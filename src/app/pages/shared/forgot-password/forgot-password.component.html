<section id="login" class="">
  <div
    class="d-flex justify-content-center align-items-center login-form h-100"
  >
    <div class="form-container">
      <h2 class="text-center text-white mb-3">Forgot Password</h2>
      <form #loginForm="ngForm">
        <div class="form-group">
          <label for="exampleInputEmail1">Email address</label>
          <input
            [(ngModel)]="passwordReset.email"
            type="email"
            class="form-control"
            id="exampleInputEmail1"
            aria-describedby="emailHelp"
            placeholder="Enter email"
            name="email"
            required
            [readonly]="showReset"
          />
        </div>
        <div *ngIf="showReset">
          <div class="form-group">
            <label for="codeInput">Code</label>
            <input
              [(ngModel)]="passwordReset.code"
              type="text"
              class="form-control"
              id="codeInput"
              placeholder="Code"
              name="code"
              required
              minlength="3"
              maxlength="10"
            />
            <small class="form-text text-muted">Code sent to your email.</small>
          </div>
          <div class="form-group">
            <label for="exampleInputPassword1">New Password</label>
            <input
              [(ngModel)]="passwordReset.new_password"
              type="password"
              class="form-control"
              id="exampleInputPassword1"
              placeholder="Password"
              name="password"
              required
              minlength="8"
              maxlength="32"
            />
          </div>

          <button
            type="submit"
            class="btn login-btn"
            (click)="resetPassword()"
            [disabled]="!loginForm.valid"
          >
            Reset Password
          </button>
        </div>
        <button
          *ngIf="!showReset"
          type="submit"
          class="btn login-btn"
          (click)="forgotPassword()"
          [disabled]="!loginForm.valid"
        >
          Send Code
        </button>
      </form>
    </div>
  </div>
</section>
